#!/usr/bin/env python3
"""
ODH Notebooks CLI Binary
Entry point that calls the CLI main script
"""

import sys
from pathlib import Path

def main():
    """Main entry point for nb binary"""

    # Get the directory containing this script
    script_dir = Path(__file__).parent.absolute()
    cli_dir = script_dir / "cli"

    # Verify CLI directory exists
    if not cli_dir.exists():
        print(f"Error: CLI directory not found at {cli_dir}")
        sys.exit(1)

    # Add CLI directory to Python path if not already there
    cli_dir_str = str(cli_dir)
    if cli_dir_str not in sys.path:
        sys.path.insert(0, cli_dir_str)

    try:
        # Import and run the CLI main function
        from main import main
        main()

    except ImportError as e:
        print(f"Error: Cannot import CLI main module: {e}")
        print(f"Make sure cli/main.py exists and is properly configured")
        print(f"CLI directory: {cli_dir}")
        print(f"Python path: {sys.path}")
        sys.exit(1)
    except Exception as e:
        print(f"Error running CLI: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)

if __name__ == "__main__":
    main()