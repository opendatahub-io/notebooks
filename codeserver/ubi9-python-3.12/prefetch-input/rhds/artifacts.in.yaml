---
# artifacts.in.yaml - Generic (non-RPM, non-pip) artifacts to prefetch
#
# This manifest tells cachi2 to download these URLs before the build starts.
# They are stored at /cachi2/output/deps/generic/<filename>. The corresponding lock file (artifacts.lock.yaml)
# is auto-generated and contains integrity hashes for each URL.

input:
    # GPG keys for verifying prefetched RPM packages
    - url: https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-9
    # CentOS Stream 9 GPG key (needed in whl-cache stage for ppc64le/s390x dnf install
    # from CentOS baseos/appstream/crb repos; UBI9 images only ship the Red Hat key)
    - url: https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official
    - url: https://github.com/goreleaser/nfpm/releases/download/v2.44.1/nfpm-2.44.1-1.x86_64.rpm
    - url: https://github.com/goreleaser/nfpm/releases/download/v2.44.1/nfpm-2.44.1-1.s390x.rpm
    - url: https://github.com/goreleaser/nfpm/releases/download/v2.44.1/nfpm-2.44.1-1.aarch64.rpm
    - url: https://github.com/goreleaser/nfpm/releases/download/v2.44.1/nfpm-2.44.1-1.ppc64le.rpm

    # Required for node-gyp builds in npm install
    # Electron headers for main VSCode build (runs on Electron)
    - url: https://electronjs.org/headers/v37.7.0/node-v37.7.0-headers.tar.gz
    # Node.js headers for build tools (runs on system Node.js 22.22.0)
    - url: https://nodejs.org/download/release/v22.22.0/node-v22.22.0-headers.tar.gz
    # Node.js headers for VSCode remote (targets Node.js 22.20.0)
    - url: https://nodejs.org/download/release/v22.20.0/node-v22.20.0-headers.tar.gz
    # Node.js runtime binaries for bundling with VSCode server (one per target arch)
    - url: https://nodejs.org/download/release/v22.20.0/node-v22.20.0-linux-x64.tar.gz
    - url: https://nodejs.org/download/release/v22.20.0/node-v22.20.0-linux-arm64.tar.gz
    - url: https://nodejs.org/download/release/v22.20.0/node-v22.20.0-linux-ppc64le.tar.gz
    - url: https://playwright.azureedge.net/builds/chromium/1134/chromium-linux.zip
      filename: chromium-1134-linux.zip
    # Electron binaries (one per target arch)
    - url: https://github.com/electron/electron/releases/download/v37.7.0/electron-v37.7.0-linux-x64.zip
    - url: https://github.com/electron/electron/releases/download/v37.7.0/electron-v37.7.0-linux-arm64.zip
    - url: https://github.com/electron/electron/releases/download/v37.7.0/SHASUMS256.txt
    - url: https://github.com/microsoft/ripgrep-prebuilt/releases/download/v13.0.0-13/ripgrep-v13.0.0-13-x86_64-unknown-linux-musl.tar.gz
      filename: ripgrep-v13.0.0-13-x86_64-unknown-linux-musl.tar.gz
    # aarch64/ppc64le: no musl builds exist; download GNU builds aliased to musl filenames
    # so @vscode/ripgrep postinstall finds them in its expected cache path
    - url: https://github.com/microsoft/ripgrep-prebuilt/releases/download/v13.0.0-13/ripgrep-v13.0.0-13-aarch64-unknown-linux-gnu.tar.gz
      filename: ripgrep-v13.0.0-13-aarch64-unknown-linux-musl.tar.gz
    - url: https://github.com/microsoft/ripgrep-prebuilt/releases/download/v13.0.0-13/ripgrep-v13.0.0-13-powerpc64le-unknown-linux-gnu.tar.gz
      filename: ripgrep-v13.0.0-13-powerpc64le-unknown-linux-musl.tar.gz
    # @vscode/ripgrep postinstall uses MULTI_ARCH_LINUX_VERSION v13.0.0-4 for ppc64le; must be in cache
    - url: https://github.com/microsoft/ripgrep-prebuilt/releases/download/v13.0.0-4/ripgrep-v13.0.0-4-powerpc64le-unknown-linux-gnu.tar.gz
      filename: ripgrep-v13.0.0-4-powerpc64le-unknown-linux-gnu.tar.gz
    # node-argon2 prebuilts â€” two versions required because separate transitive
    # dependencies in the npm tree pin v0.31.2 and v0.28.7 respectively
    - url: https://github.com/ranisalt/node-argon2/releases/download/v0.31.2/argon2-v0.31.2-napi-v3-linux-x64-glibc.tar.gz
      filename: v0.31.2/argon2-v0.31.2-napi-v3-linux-x64-glibc.tar.gz
    - url: https://github.com/ranisalt/node-argon2/releases/download/v0.28.7/argon2-v0.28.7-napi-v3-linux-x64-glibc.tar.gz
      filename: v0.28.7/argon2-v0.28.7-napi-v3-linux-x64-glibc.tar.gz

    # OpenShift oc client (one per target arch; filenames use uname -m convention)
    - url: https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/4.18.33/openshift-client-linux.tar.gz
      filename: openshift-client-linux-x86_64.tar.gz
    - url: https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/4.18.33/openshift-client-linux.tar.gz
      filename: openshift-client-linux-aarch64.tar.gz
    - url: https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/4.18.33/openshift-client-linux.tar.gz
      filename: openshift-client-linux-ppc64le.tar.gz

    # GitHub tarball dependency for @emmetio/css-parser (used by VSCode emmet extension)
    # Filename must use .tgz to match rewrite-npm-urls.sh and download-npm.sh conventions.
    - url: https://codeload.github.com/ramya-rao-a/css-parser/tar.gz/370c480ac103bd17c7bcfb34bf5d577dc40d3660
      filename: npm/ramya-rao-a-css-parser-370c480ac103bd17c7bcfb34bf5d577dc40d3660.tgz

    # GitHub tarball dependency for @parcel/watcher (v4.106.3 uses git ref instead of npm registry)
    # Filename must use .tgz to match rewrite-npm-urls.sh and download-npm.sh conventions.
    - url: https://codeload.github.com/parcel-bundler/watcher/tar.gz/1ca032aa8339260a8a3bcf825c3a1a71e3e43542
      filename: npm/parcel-bundler-watcher-1ca032aa8339260a8a3bcf825c3a1a71e3e43542.tgz

    # VSCode marketplace extensions (built-in extensions bundled with code-server)
    - url: https://github.com/microsoft/vscode-js-debug-companion/releases/download/v1.1.3/ms-vscode.js-debug-companion.1.1.3.vsix
      filename: ms-vscode.js-debug-companion.1.1.3.vsix
    - url: https://github.com/microsoft/vscode-js-debug/releases/download/v1.105.0/ms-vscode.js-debug.1.105.0.vsix
      filename: ms-vscode.js-debug.1.105.0.vsix
    - url: https://github.com/microsoft/vscode-js-profile-visualizer/releases/download/v1.0.10/ms-vscode.vscode-js-profile-table.1.0.10.vsix
      filename: ms-vscode.vscode-js-profile-table.1.0.10.vsix
